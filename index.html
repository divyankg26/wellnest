<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title> NovaFix ‚Äì Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* Ensure html & body take full height */
html, body {
  height: 100%;
  margin: 0;       /* remove default margins */
  padding: 0;
}

/* ---------- SPLASH SCREEN ---------- */
#splash {
  position: fixed;           /* cover full screen */
  inset: 0;                  /* top, bottom, left, right = 0 */
  background: #a9a9a9;       /* darker grey (#a9a9a9 = darkgrey) */
  display: flex;             /* flex centering */
  justify-content: center;   /* horizontal center */
  align-items: center;       /* vertical center */
  z-index: 99999;            /* top layer */
}

#splash img {
  width: 600px;              /* adjust size */
  max-width: 90%;
  animation: popIn 1.2s ease;
  filter: drop-shadow(0 12px 30px rgba(0,0,0,0.7)); /* make image pop */
}

@keyframes popIn {
  from { transform: scale(0.85); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}


/* ---------- VARIABLES ---------- */
:root {
  --primary: #2e7d32;
  --accent: #81c784;
  --bg: rgba(255,255,255,0.1);
  --glass: rgba(255,255,255,0.2);
  --text: #222;
  --headerText: white;
  --bulletText: white;
}
body.dark {
  --primary: #81c784;
  --accent: #2e7d32;
  --bg: rgba(0,0,0,0.2);
  --glass: rgba(30,30,30,0.25);
  --text: #eee;
  --headerText: white;
  --bulletText: white;
}

/* ---------- BASE ---------- */
body {
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: 0.3s;
  backdrop-filter: blur(5px);
}

/* ---------- HEADER ---------- */
header {
  padding:30px;
  text-align:center;
  background: var(--glass);
  backdrop-filter: blur(12px);
  border-radius: 0 0 20px 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  display:flex;
  flex-direction:column;
  align-items:center;
}
header h1 { margin:0 0 6px; color: var(--headerText); }
header p { margin:0; color: var(--bulletText); }
header button {
  margin-top:10px;
  padding:6px 12px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background: rgba(255,255,255,0.15);
  color: var(--text);
  font-weight:bold;
  backdrop-filter: blur(5px);
  transition: 0.2s;
}
header button:hover { background: rgba(255,255,255,0.25); }

/* ---------- DASHBOARD GRID ---------- */
.dashboard {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  grid-auto-rows:380px;
  gap:24px;
  padding:24px;
}

/* ---------- CARDS ---------- */
.card {
  background: var(--glass);
  backdrop-filter: blur(15px);
  border-radius:20px;
  padding:20px;
  box-shadow:0 14px 34px rgba(0,0,0,0.1);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition:0.3s;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.2);
}
.card:hover {
  transform: translateY(-5px);
  box-shadow:0 18px 40px rgba(0,0,0,0.2);
}
.card h2 { margin:0; font-size:1.2em; color: var(--primary); }

/* ---------- INPUTS & BUTTONS ---------- */
.input-group {
  display:flex;
  gap:8px;
  margin-top:8px;
  flex-wrap:wrap;
}
.input-group input,
.input-group select,
.input-group button,
.input-group textarea {
  flex:1;
  margin-top:0;
  padding:10px;
  border-radius:12px;
  border: 1px solid rgba(255,255,255,0.2);
  font-size:0.95em;
  background: var(--glass);
  color: var(--text);
  backdrop-filter: blur(5px);
  font-family:'Segoe UI',sans-serif;
  transition:0.3s;
}
.input-group button {
  flex:none;
  padding:10px 16px;
  border:none;
  background: var(--glass);
  color: var(--text);
  cursor:pointer;
  font-weight:bold;
}
.input-group button:hover { opacity:0.8; }
textarea { resize:none; }
textarea:focus { outline:none; border-color: var(--primary); }

/* ---------- LOG AREAS ---------- */
.chat, #moodLogs, #gratitudeLogs, #reminders, #taskList {
  flex-grow:1;
  overflow-y:auto;
  background: var(--glass);
  padding:10px;
  border-radius:12px;
  font-size:0.95em;
  border:1px solid rgba(255,255,255,0.2);
  color: var(--text);
  backdrop-filter: blur(5px);
  transition:0.3s;
}

/* ---------- MISC ---------- */
.small { font-size:0.95em; }
ul { padding-left:16px; margin:4px 0; }
ul li { color: var(--text); }

/* ---------- SCROLLBARS ---------- */
#moodLogs::-webkit-scrollbar,
#gratitudeLogs::-webkit-scrollbar,
#reminders::-webkit-scrollbar,
#taskList::-webkit-scrollbar { width:6px; }
#moodLogs::-webkit-scrollbar-thumb,
#gratitudeLogs::-webkit-scrollbar-thumb,
#reminders::-webkit-scrollbar-thumb,
#taskList::-webkit-scrollbar-thumb { background-color: var(--primary); border-radius:3px; }
#moodLogs::-webkit-scrollbar-track,
#gratitudeLogs::-webkit-scrollbar-track,
#reminders::-webkit-scrollbar-track,
#taskList::-webkit-scrollbar-track { background-color: var(--glass); }
</style>
</head>
<body class="dark">

<!-- SPLASH SCREEN -->
<div id="splash">
  <img src="https://gcdnb.pbrd.co/images/Odx6zppPNgX6.jpg?o=1" alt="NovaFix Splash">
</div>

<header>
  <h1> NovaFix</h1>
  <p>Mind ‚Ä¢ Body ‚Ä¢ Money ‚Ä¢ Music ‚Ä¢ Productivity</p>
</header>

<div class="dashboard">

  <!-- AI COMPANION -->
  <div class="card">
    <h2>ü§ñ AI Companion</h2>
    <div class="chat" id="chat"></div>
    <div class="input-group">
      <input id="aiInput" placeholder="Talk to AI">
      <button onclick="aiChat()">Talk</button>
    </div>
  </div>

  <!-- REMINDERS -->
  <div class="card">
    <h2>‚è∞ Reminders</h2>
    <div class="input-group">
      <input id="reminderText" placeholder="Reminder text">
      <input type="number" id="reminderMinutes" placeholder="Minutes" style="max-width:120px;">
      <button onclick="addReminder()">Set Reminder</button>
    </div>
    <ul id="reminders" class="small"></ul>
  </div>

  <!-- PRODUCTIVITY -->
  <div class="card">
    <h2>üìä Productivity</h2>
    <div class="input-group">
      <input id="task" placeholder="Today's main task">
      <button onclick="addTask()">Add</button>
    </div>
    <ul id="taskList" class="small"></ul>
  </div>

  <!-- GROCERY FINANCING -->
  <div class="card">
    <h2>üßæ Grocery Financing</h2>
    <div class="input-group">
      <input type="number" id="gCost" placeholder="Monthly grocery ‚Çπ">
      <input type="number" id="gMonths" placeholder="Planning months" style="max-width:120px;">
      <input type="number" id="buffer" placeholder="Safety buffer %" style="max-width:120px;">
      <button onclick="calculateFinance()">Plan</button>
    </div>
    <p id="financeResult" class="small"></p>
  </div>

  <!-- MOOD TRACKER -->
  <div class="card">
    <h2>üßò Mood Tracker</h2>
    <div class="input-group">
      <select id="mood">
        <option>üòä Happy</option>
        <option>üòê Neutral</option>
        <option>üòî Low</option>
      </select>
      <button onclick="saveMood()">Save</button>
    </div>
    <p id="moodResult" class="small"></p>
    <div id="moodLogs"></div>
  </div>

  <!-- WATER INTAKE WITH GOAL -->
  <div class="card">
    <h2>üíß Water Intake</h2>
    <div class="input-group">
      <input type="number" id="waterGoal" placeholder="Set daily goal (glasses)" style="max-width:150px;">
      <button onclick="setWaterGoal()">Set Goal</button>
    </div>
    <div class="input-group">
      <input type="number" id="water" placeholder="Glasses today">
      <button onclick="saveWater()">Track</button>
    </div>
    <p id="waterResult" class="small"></p>
    <p id="waterProgress" class="small"></p>
  </div>

  <!-- SLEEP -->
  <div class="card">
    <h2>üí§ Sleep Tracker</h2>
    <div class="input-group">
      <input type="number" id="sleep" placeholder="Hours slept">
      <button onclick="saveSleep()">Save</button>
    </div>
    <p id="sleepResult" class="small"></p>
  </div>

  <!-- MUSIC -->
  <div class="card">
    <h2>üéµ Wellness Music</h2>
    <p class="small">Calm & focus-enhancing playlist</p>
    <iframe style="border-radius:14px" src="https://open.spotify.com/embed/playlist/0Gwjm4uWLCSE7ZIiY6dK2X?utm_source=generator" width="100%" height="190" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
  </div>

  <!-- TIME TRAVELLER MIRROR -->
  <div class="card">
    <h2>ü™û Time Traveller Mirror</h2>
    <p class="small">See how your choices affect your wellness journey</p>
    <div class="input-group">
      <input id="futureTask" placeholder="Enter a task/goal">
      <button onclick="timeTraveller()">Check</button>
    </div>
    <div id="timeMirror" class="small"></div>
  </div>

  <!-- MOTIVATIONAL QUOTES -->
  <div class="card">
    <h2>üí° Motivational Quotes</h2>
    <p id="quoteDisplay" class="small"></p>
    <div class="input-group">
      <button onclick="newQuote()">Inspire Me</button>
    </div>
  </div>

  <!-- GRATITUDE JOURNAL -->
  <div class="card">
    <h2>üôè Gratitude Journal</h2>
    <textarea id="gratitudeInput" placeholder="What are you grateful for today?" rows="3"></textarea>
    <div class="input-group">
      <button onclick="saveGratitude()">Save Entry</button>
    </div>
    <div id="gratitudeLogs"></div>
  </div>

  <!-- DAILY CHALLENGE -->
  <div class="card">
    <h2>üèÜ Daily Challenge</h2>
    <p id="dailyChallenge" class="small"></p>
    <div class="input-group">
      <button onclick="completeChallenge()">Mark Complete ‚úÖ</button>
    </div>
    <p id="challengeResult" class="small"></p>
  </div>

</div>

<script>
// SPLASH SCREEN REMOVE
setTimeout(() => {
  const splash = document.getElementById("splash");
  if (splash) splash.remove();
}, 3000); // 3000ms = 3 seconds

// Disable scroll while splash is active
document.body.style.overflow = "hidden";

setTimeout(() => {
  const splash = document.getElementById("splash");
  if (splash) splash.remove();
  // Re-enable scrolling after splash disappears
  document.body.style.overflow = "auto";
}, 3000);

// ---------- THEME ----------
function toggleTheme(){document.body.classList.toggle("dark");}

// ---------- AI ----------
const moodHistory=[], waterHistory=[], sleepHistory=[];
function aiChat(){
  const input=document.getElementById("aiInput").value.trim();
  if(!input) return;
  const msg=input.toLowerCase();
  let response="";
  const leafLogo="üåø";

  if(msg.match(/hi|hello|hey/)) response=`I am NovaFix AI ${leafLogo}`;
  else if(msg.match(/who are you/)) response=`I am NovaFix AI ${leafLogo}, your wellness companion.`;
  else if(msg.match(/analyze|conclude|report/)){
    if(moodHistory.length===0 && waterHistory.length===0 && sleepHistory.length===0){
      response="No data recorded yet to analyze.";
    } else {
      response="Here is your latest wellness data analysis:<br>";
      if(sleepHistory.length) response+=`Sleep: Last ${sleepHistory[sleepHistory.length-1]} hrs<br>`;
      if(waterHistory.length) response+=`Water: Last ${waterHistory[waterHistory.length-1]} glasses<br>`;
      if(moodHistory.length){
        const lastMood=moodHistory[moodHistory.length-1];
        response+=`Mood: Last ${lastMood.value} at ${lastMood.time}<br>`;
      }
      response+="Tip: Keep a consistent routine, stay hydrated, and track mood for better insight.";
    }
  } else {
    response="I'm analyzing your input. Tell me more about your energy, mood, or wellness concern.";
  }

  const chat=document.getElementById("chat");
  chat.innerHTML+=`<p><b>You:</b> ${input}</p><p><b>AI:</b><br>${response}</p>`;
  chat.scrollTop=chat.scrollHeight;
  document.getElementById("aiInput").value="";
}

// ---------- REMINDERS ----------
function addReminder(){
  const text=document.getElementById("reminderText").value.trim();
  const minutes=parseFloat(document.getElementById("reminderMinutes").value);
  if(!text||isNaN(minutes)||minutes<=0){alert("Enter reminder text and valid minutes."); return;}
  const ul=document.getElementById("reminders");
  const li=document.createElement("li");
  ul.appendChild(li);

  let timeLeft=minutes*60;
  const interval=setInterval(()=> {
    if(timeLeft<=0){
      clearInterval(interval);
      li.textContent=`${text} - Time's up!`;
      const audio=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");
      audio.volume=1; audio.play();
      return;
    }
    const mins=Math.floor(timeLeft/60), secs=timeLeft%60;
    li.textContent=`${text} - ${mins}m ${secs}s remaining`;
    timeLeft--;
  },1000);

  document.getElementById("reminderText").value="";
  document.getElementById("reminderMinutes").value="";
}

// ---------- TASKS ----------
function addTask(){
  const taskText = document.getElementById("task").value.trim();
  if(!taskText) return;

  const ul = document.getElementById("taskList");
  const li = document.createElement("li");

  const span = document.createElement("span");
  span.textContent = taskText;

  const editBtn = document.createElement("button");
  editBtn.textContent = "‚úèÔ∏è";
  editBtn.className = "task-btn";
  editBtn.onclick = () => {
    const newText = prompt("Edit task:", span.textContent);
    if(newText !== null && newText.trim() !== "") {
      span.textContent = newText.trim();
    }
  };

  const delBtn = document.createElement("button");
  delBtn.textContent = "üóëÔ∏è";
  delBtn.className = "task-btn";
  delBtn.onclick = () => {
    if(confirm("Delete this task?")) {
      ul.removeChild(li);
    }
  };

  li.appendChild(span);
  li.appendChild(editBtn);
  li.appendChild(delBtn);

  ul.appendChild(li);
  document.getElementById("task").value = "";
}


// ---------- FINANCE ----------
function calculateFinance(){
  const cost=parseFloat(document.getElementById("gCost").value);
  const months=parseFloat(document.getElementById("gMonths").value);
  const buffer=parseFloat(document.getElementById("buffer").value)||0;
  if(isNaN(cost)||isNaN(months)||months<=0){alert("Enter valid values."); return;}
  const total=cost*months, final=total*(1+buffer/100);
  document.getElementById("financeResult").innerHTML=`Total: ‚Çπ${final.toFixed(0)}<br>Monthly: ‚Çπ${(final/months).toFixed(0)}`;
}

// ---------- MOOD / WATER / SLEEP ----------
function saveMood(){
  const mood=document.getElementById("mood").value;
  const now=new Date();
  const timestamp=`${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
  document.getElementById("moodResult").innerText=`Mood saved: ${mood}`;
  moodHistory.push({value:mood,time:timestamp});
  const ul=document.getElementById("moodLogs");
  const entry=document.createElement("div");
  entry.textContent=`${timestamp} - ${mood}`;
  ul.appendChild(entry);
}

// ---------- WATER WITH GOAL ----------
let waterGoal = 0;

function setWaterGoal(){
  const goalInput = parseInt(document.getElementById("waterGoal").value);
  if(isNaN(goalInput)||goalInput<=0){alert("Enter a valid positive number for your water goal."); return;}
  waterGoal = goalInput;
  document.getElementById("waterGoal").value = "";
  updateWaterProgress();
}

function saveWater(){
  const waterIntake = parseInt(document.getElementById("water").value);
  if(isNaN(waterIntake)||waterIntake<=0){alert("Enter a valid number of glasses."); return;}
  waterHistory.push(waterIntake);
  document.getElementById("waterResult").innerText = `${waterIntake} glasses üíß`;
  document.getElementById("water").value = "";
  updateWaterProgress();
}

function updateWaterProgress(){
  if(waterGoal===0){
    document.getElementById("waterProgress").innerText = "Set a daily water goal to track progress!";
    return;
  }
  const totalIntake = waterHistory.reduce((sum,val)=>sum+val,0);
  const progressPercent = Math.min((totalIntake/waterGoal)*100,100).toFixed(0);
  document.getElementById("waterProgress").innerText = 
    `Progress: ${totalIntake}/${waterGoal} glasses (${progressPercent}%) ${progressPercent>=100?"‚úÖ Goal reached!":""}`;
}

// ---------- SLEEP ----------
function saveSleep(){
  const sleep=document.getElementById("sleep").value;
  document.getElementById("sleepResult").innerText=`${sleep} hrs üí§`;
  sleepHistory.push(sleep);
}

// ---------- TIME TRAVELLER MIRROR ----------
function timeTraveller() {
  const task = document.getElementById("futureTask").value.trim();
  if (!task) return alert("Enter a task or goal.");
  const mirror = document.getElementById("timeMirror");
  const didIt = `‚ú® Future if you do it: You feel accomplished and energized after completing "${task}". üí™`;
  const didntDo = `üí§ Future if you skip it: You feel regret and a missed opportunity after ignoring "${task}". üòî`;
  mirror.innerHTML = `<p>${didIt}</p><p>${didntDo}</p>`;
  document.getElementById("futureTask").value = "";
}

// ---------- QUOTES ----------
const quotes = [
  "üå± 'The journey of a thousand miles begins with one step.' ‚Äì Lao Tzu",
  "üí™ 'Your body can stand almost anything. It‚Äôs your mind that you have to convince.'",
  "‚òÄÔ∏è 'Every morning we are born again. What we do today matters most.' ‚Äì Buddha",
  "üåü 'Success is the sum of small efforts repeated day in and day out.' ‚Äì Robert Collier",
  "üßò 'Happiness is not something ready-made. It comes from your own actions.' ‚Äì Dalai Lama",
  "üî• 'Don‚Äôt watch the clock; do what it does. Keep going.' ‚Äì Sam Levenson"
];
function newQuote() {
  const q = quotes[Math.floor(Math.random() * quotes.length)];
  document.getElementById("quoteDisplay").innerText = q;
}
newQuote();

// ---------- GRATITUDE ----------
function saveGratitude() {
  const input = document.getElementById("gratitudeInput").value.trim();
  if (!input) return;
  const now = new Date();
  const timestamp = `${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()} ${now.getHours()}:${now.getMinutes()}`;
  const log = document.createElement("div");
  log.textContent = `${timestamp} - ${input}`;
  document.getElementById("gratitudeLogs").appendChild(log);
  document.getElementById("gratitudeInput").value = "";
}

// ---------- DAILY CHALLENGE ----------
const challenges = ["Meditate 10 min", "Drink 8 glasses of water", "Walk 5000 steps", "Write 3 gratitudes"];
function completeChallenge(){
  const res = document.getElementById("challengeResult");
  res.innerText = "üéâ Challenge completed!";
  newDailyChallenge();
}
function newDailyChallenge(){
  document.getElementById("dailyChallenge").innerText = challenges[Math.floor(Math.random()*challenges.length)];
}
newDailyChallenge();

</script>

</body>
</html>

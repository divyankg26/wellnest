<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NovaFix ‚Äì Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --waveA:#2196f3;
  --waveB:#ff9800;
  --primary:#2196f3;
  --accent:#ff9800;
  --glass:rgba(255,255,255,0.18);
  --text:#fff;
}

html,body{
  margin:0;
  height:100%;
  font-family:'Segoe UI',sans-serif;
  color:var(--text);
}

body{
  background:linear-gradient(120deg,var(--waveA),var(--waveB));
  background-size:200% 200%;
  animation:waveMove 8s ease-in-out infinite;
  overflow-x:hidden;
}

@keyframes waveMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:#FFFFFF;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
  transition:opacity 1s ease, transform 1s ease;
}
#splash.hide{
  opacity:0;
  transform:translateY(-40px);
  pointer-events:none;
}
#splash img{
  width:450px;
  max-width:80%;
  animation:popIn 1.2s ease;
}
@keyframes popIn{
  from{opacity:0;transform:scale(.85)}
  to{opacity:1;transform:scale(1)}
}

/* SIGN-IN / SIGN-UP MODAL */
#signInModal {
  display: none; 
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  justify-content: center;
  align-items: center;
  z-index: 10000;
}
.modal-content {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(14px);
  padding: 40px;
  border-radius: 20px;
  text-align: center;
  width: 90%;
  max-width: 400px;
  color: #fff;
  box-shadow: 0 12px 30px rgba(0,0,0,0.3);
}
.modal-content input {
  width: 100%;
  margin: 10px 0;
  padding: 12px;
  border-radius: 12px;
  border: none;
  background: rgba(255,255,255,0.22);
  color: #fff;
  font-size: 16px;
}
.modal-content button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg,var(--primary),var(--accent));
  color: #fff;
  font-weight: bold;
  font-size: 16px;
}
.modal-content p {margin-top: 10px; font-size: 14px; cursor: pointer;}

/* HEADER */
header{
  text-align:center;
  padding:30px;
  background:var(--glass);
  backdrop-filter:blur(14px);
  border-radius:0 0 20px 20px;
  box-shadow:0 12px 30px rgba(0,0,0,.3);
  position:relative;
}
header h1{margin:0;color:var(--primary)}
header p{margin:6px 0 0}
#signOutBtn{
  position:absolute;
  right:20px;
  top:30px;
  padding:8px 14px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background: linear-gradient(135deg,var(--accent),var(--primary));
  color:#fff;
  font-weight:bold;
  display:none;
}

/* DASHBOARD */
.dashboard{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:24px;
  padding:24px;
  display:none;
}

/* CARD */
.card{
  background:var(--glass);
  backdrop-filter:blur(16px);
  border-radius:20px;
  padding:20px;
  box-shadow:0 16px 40px rgba(0,0,0,.3);
  display:flex;
  flex-direction:column;
  border:1px solid rgba(255,255,255,.25);
}
.card h2{margin-top:0;color:var(--primary)}

.input-group{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:8px;
}

input,select,textarea,button{
  padding:10px;
  border-radius:12px;
  border:none;
  background:rgba(255,255,255,.22);
  color:var(--text);
  font-family:inherit;
}

button{
  cursor:pointer;
  font-weight:bold;
  background:linear-gradient(135deg,var(--primary),var(--accent));
}

.chat,#moodLogs,#gratitudeLogs,#reminders,#taskList{
  flex-grow:1;
  overflow-y:auto;
  padding:8px;
  border-radius:12px;
  background:rgba(0,0,0,.15);
  margin-top:8px;
}

::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-thumb{background:var(--primary);border-radius:3px}
</style>
</head>
<body>

<audio id="reminderSound" src="https://image2url.com/r2/default/audio/1770462028211-e2a46d69-8e18-430d-971b-e111cf9254b9.mp3" preload="auto"></audio>

<!-- SPLASH -->
<div id="splash">
  <img src="https://gcdnb.pbrd.co/images/T3DLjTXN0F9N.jpg?o=1">
</div>

<!-- SIGN-IN / SIGN-UP MODAL -->
<div id="signInModal">
  <div class="modal-content">
    <h2 id="modalTitle">Welcome to NovaFix üåü</h2>
    <input id="usernameInput" placeholder="Enter username">
    <input id="passwordInput" type="password" placeholder="Enter password">
    <button id="actionButton" onclick="handleAuth()">Sign In</button>
    <p onclick="toggleAuth()"><span id="toggleText">Don't have an account? Sign Up</span></p>
    <p id="signInError" style="color:red; display:none;">Error message here!</p>
  </div>
</div>

<header>
  <h1>NovaFix</h1>
  <p>Mind ‚Ä¢ Body ‚Ä¢ Money ‚Ä¢ Music ‚Ä¢ Productivity</p>
  <button id="signOutBtn" onclick="signOut()">Sign Out</button>
</header>

<div class="dashboard">

<!-- AI Companion -->
<div class="card">
<h2>ü§ñ AI Companion</h2>
<div class="chat" id="chat"></div>
<div class="input-group">
<input id="aiInput" placeholder="Talk to AI">
<button onclick="aiChat()">Talk</button>
</div>
</div>

<!-- Reminders -->
<div class="card">
<h2>‚è∞ Reminders</h2>
<div class="input-group">
<input id="reminderText" placeholder="Reminder">
<input type="number" id="reminderMinutes" placeholder="Minutes">
<button onclick="addReminder()">Set</button>
</div>
<ul id="reminders"></ul>
</div>

<!-- Tasks -->
<div class="card">
<h2>üìä Productivity</h2>
<div class="input-group">
<input id="task" placeholder="Task">
<button onclick="addTask()">Add</button>
</div>
<ul id="taskList"></ul>
</div>

<!-- Grocery Finance -->
<div class="card">
<h2>üßæ Grocery Financing</h2>
<input id="gCost" placeholder="Monthly ‚Çπ">
<input id="gMonths" placeholder="Months">
<input id="buffer" placeholder="Buffer %">
<button onclick="calculateFinance()">Plan</button>
<p id="financeResult"></p>
</div>

<!-- Mood Tracker -->
<div class="card">
<h2>üßò Mood Tracker</h2>
<select id="mood">
<option>üòä Happy</option>
<option>üòê Neutral</option>
<option>üòî Low</option>
</select>
<button onclick="saveMood()">Save</button>
<div id="moodLogs"></div>
</div>

<!-- Water -->
<div class="card">
<h2>üíß Water Intake</h2>
<input id="waterGoalInput" placeholder="Daily goal">
<button onclick="setWaterGoal()">Set Goal</button>
<input id="waterInput" placeholder="Glasses">
<button onclick="saveWater()">Track</button>
<p id="waterProgress"></p>
</div>

<!-- Sleep -->
<div class="card">
<h2>üí§ Sleep</h2>
<input id="sleepInput" placeholder="Hours">
<button onclick="saveSleep()">Save</button>
<p id="sleepResult"></p>
</div>

<!-- Wellness Music -->
<div class="card">
<h2>üéµ Wellness Music</h2>
<iframe style="border-radius:14px" src="https://open.spotify.com/embed/playlist/0Gwjm4uWLCSE7ZIiY6dK2X" width="100%" height="190"></iframe>
</div>

<!-- Time Traveller Mirror -->
<div class="card">
<h2>ü™û Time Traveller Mirror</h2>
<input id="futureTask" placeholder="Enter goal">
<button onclick="timeTraveller()">Check</button>
<div id="timeMirror"></div>
</div>

<!-- Motivational Quotes -->
<div class="card">
<h2>üí° Motivational Quotes</h2>
<p id="quoteDisplay"></p>
<button onclick="newQuote()">Inspire Me</button>
</div>

<!-- Gratitude Journal -->
<div class="card">
<h2>üôè Gratitude Journal</h2>
<textarea id="gratitudeInput" rows="3"></textarea>
<button onclick="saveGratitude()">Save</button>
<div id="gratitudeLogs"></div>
</div>

<!-- Daily Challenge -->
<div class="card">
<h2>üèÜ Daily Challenge</h2>
<p id="dailyChallenge"></p>
<button onclick="completeChallenge()">Complete</button>
<p id="challengeResult"></p>
</div>

</div>

<script>
// ---------- SPLASH ----------
const splash = document.getElementById("splash");
const signInModal = document.getElementById("signInModal");
const dashboard = document.querySelector(".dashboard");
const signOutBtn = document.getElementById("signOutBtn");
document.body.style.overflow = "hidden";

setTimeout(() => {
  splash.classList.add("hide");
  setTimeout(() => {
    splash.remove();
    document.body.style.overflow = "auto";
    const savedUser = localStorage.getItem("novafixUser");
    if(savedUser){
      dashboard.style.display="grid";
      signOutBtn.style.display="block";
    } else {
      signInModal.style.display="flex";
    }
  },1000);
},3000);

// ---------- COLOR WAVES ----------
const waves = [
  ["#2196f3","#ff9800"],
  ["#9c27b0","#03a9f4"],
  ["#ff5722","#4caf50"],
  ["#3f51b5","#e91e63"],
  ["#009688","#ffc107"]
];
let w = 0;
function updateWave(){
  document.documentElement.style.setProperty("--waveA", waves[w][0]);
  document.documentElement.style.setProperty("--waveB", waves[w][1]);
  document.documentElement.style.setProperty("--primary", waves[w][0]);
  document.documentElement.style.setProperty("--accent", waves[w][1]);
  w = (w + 1) % waves.length;
}
updateWave();
setInterval(updateWave, 8000);

// ---------- SIGN-IN / SIGN-UP ----------
let authMode="signin";
function toggleAuth(){
  authMode=authMode==="signin"?"signup":"signin";
  const title=document.getElementById("modalTitle");
  const button=document.getElementById("actionButton");
  const toggleText=document.getElementById("toggleText");
  const error=document.getElementById("signInError");
  error.style.display="none";
  if(authMode==="signup"){
    title.innerText="Create a NovaFix Account üåü";
    button.innerText="Sign Up";
    toggleText.innerText="Already have an account? Sign In";
  } else {
    title.innerText="Welcome to NovaFix üåü";
    button.innerText="Sign In";
    toggleText.innerText="Don't have an account? Sign Up";
  }
}

function handleAuth(){
  const username=usernameInput.value.trim();
  const password=passwordInput.value.trim();
  const error=document.getElementById("signInError");
  if(!username||!password){error.style.display="block";error.innerText="Username or password cannot be empty!";return;}
  const users=JSON.parse(localStorage.getItem("novafixUsers")||"{}");
  if(authMode==="signup"){
    if(users[username]){error.style.display="block";error.innerText="Username already exists!";return;}
    users[username]=password;
    localStorage.setItem("novafixUsers",JSON.stringify(users));
    localStorage.setItem("novafixUser",username);
    loginSuccess(username);
  } else {
    if(!users[username]||users[username]!==password){error.style.display="block";error.innerText="Incorrect username or password!";return;}
    localStorage.setItem("novafixUser",username);
    loginSuccess(username);
  }
}

function loginSuccess(username){
  signInModal.style.display="none";
  dashboard.style.display="grid";
  signOutBtn.style.display="block";
  alert(`Welcome, ${username}! üåü`);
}

function signOut(){
  localStorage.removeItem("novafixUser");
  signInModal.style.display="flex";
  dashboard.style.display="none";
  signOutBtn.style.display="none";
  authMode="signin";
  toggleAuth();
  alert("You have been signed out!");
}

// ---------- DASHBOARD JS ----------
const moodHistory=[],waterHistory=[],sleepHistory=[];

// AI Companion
function aiChat(){
  const input = aiInput.value.trim();
  if(!input) return;
  let msg=input.toLowerCase();
  let response="";
  if(msg.match(/hi|hello|hey/)) {
    const currentUser = localStorage.getItem("novafixUser") || "there";
    response = `Hey there! What's up, ${currentUser}? üòä`;
}
  else if(msg.match(/who are you/)) response="I am your NovaFix wellness companion üå±";
  else if(msg.match(/analyze|analysis|report|conclude/)){
    if(moodHistory.length===0&&waterHistory.length===0&&sleepHistory.length===0){
      response="You haven‚Äôt logged enough data yet for analysis. Start with mood, water, or sleep üå±";
    } else {
      response="üìä <b>Your Wellness Analysis</b><br>";
      if(sleepHistory.length){const lastSleep=sleepHistory[sleepHistory.length-1];response+=`üí§ Sleep: ${lastSleep} hrs<br>`;}
      if(waterHistory.length){const totalWater=waterHistory.reduce((a,b)=>a+b,0);response+=`üíß Water today: ${totalWater} glasses<br>`;}
      if(moodHistory.length){const lastMood=moodHistory[moodHistory.length-1];response+=`üßò Mood: ${lastMood}<br>`;}
      response+="<br>‚ú® Tip: Consistency beats intensity. Hydrate well, protect sleep, and track mood daily.";
    }
  } else response="I‚Äôm listening üåø Tell me about your mood, energy, or type *analyze* to see your wellness report.";
  chat.innerHTML+=`<p><b>You:</b> ${input}</p><p><b>AI:</b><br>${response}</p>`;
  chat.scrollTop=chat.scrollHeight;
  aiInput.value="";
}

// Reminders
function addReminder() {
  const t = reminderText.value.trim();
  const m = +reminderMinutes.value;
  if (!t || m <= 0) return;

  const li = document.createElement("li");
  reminders.appendChild(li);
  let s = m * 60;

  const audio = document.getElementById("reminderSound");

  const i = setInterval(() => {
    if (s <= 0) {
      clearInterval(i);
      li.textContent = `${t} ‚Äì Time's up!`;
      if(audio) audio.play(); // üîä Play your custom sound
      return;
    }
    li.textContent = `${t} ‚Äì ${Math.floor(s / 60)}m ${s % 60}s`;
    s--;
  }, 1000);

  reminderText.value = "";
  reminderMinutes.value = "";
}

// Tasks
function addTask(){
  const t=task.value.trim();
  if(!t)return;
  const li=document.createElement("li");
  const span=document.createElement("span");span.textContent=t;
  const e=document.createElement("button");e.textContent="‚úèÔ∏è";e.onclick=()=>{const n=prompt("Edit task",span.textContent);if(n)span.textContent=n};
  const d=document.createElement("button");d.textContent="üóëÔ∏è";d.onclick=()=>li.remove();
  li.append(span,e,d);taskList.appendChild(li);task.value="";
}

// Finance
function calculateFinance(){
  const total=gCost.value*gMonths.value*(1+buffer.value/100);
  financeResult.innerText=`Total ‚Çπ${total.toFixed(0)}`;
}

// Mood
function saveMood(){moodLogs.innerHTML+=`<div>${new Date().toLocaleTimeString()} - ${mood.value}</div>`;moodHistory.push(mood.value);}

// Water
let waterGoal=0;
function setWaterGoal(){waterGoal=+waterGoalInput.value}
function saveWater(){const v=+waterInput.value;waterHistory.push(v);const sum=waterHistory.reduce((a,b)=>a+b,0);waterProgress.innerText=`${sum}/${waterGoal}`;waterInput.value=""}

// Sleep
function saveSleep(){sleepHistory.push(+sleepInput.value);sleepResult.innerText=`${sleepInput.value} hrs üí§`}

// Time Mirror
function timeTraveller(){const task=futureTask.value.trim();if(!task)return alert("Enter a task or goal.");timeMirror.innerHTML=`<p>‚ú® Future if you do it: You feel accomplished and energized after completing "${task}". üí™</p><p>üí§ Future if you skip it: You feel regret and a missed opportunity after ignoring "${task}". üòî</p>`;futureTask.value=""}

// Quotes
const quotes=["üå± 'The journey of a thousand miles begins with one step.' ‚Äì Lao Tzu","üí™ 'Your body can stand almost anything. It‚Äôs your mind that you have to convince.'","‚òÄÔ∏è 'Every morning we are born again. What we do today matters most.' ‚Äì Buddha","üåü 'Success is the sum of small efforts repeated day in and day out.' ‚Äì Robert Collier","üßò 'Happiness is not something ready-made. It comes from your own actions.' ‚Äì Dalai Lama","üî• 'Don‚Äôt watch the clock; do what it does. Keep going.' ‚Äì Sam Levenson"];
function newQuote(){quoteDisplay.innerText=quotes[Math.floor(Math.random()*quotes.length)];}
newQuote();

// Gratitude
function saveGratitude(){const t=gratitudeInput.value.trim();if(!t)return;gratitudeLogs.innerHTML+=`<div>${new Date().toLocaleTimeString()} - ${t}</div>`;gratitudeInput.value="";}

// Daily Challenge
const dailyChallenges = [
  "Finish 1 small task you‚Äôve been putting off.",
  "Learn 1 new word or fact today.",
  "Clean or organize one small area of your room/desk.",
  "Write down 3 things you‚Äôre grateful for.",
  "Smile at 3 people today.",
  "Avoid social media for 1 hour.",
  "Try a new hobby for 15 minutes.",
  "Drink 1 extra glass of water today.",
  "Take a 5-minute stretch break every 2 hours.",
  "Eat a fruit or vegetable with every meal.",
  "Meditate for 5‚Äì10 minutes."
];

// ---------- Function to pick a random daily challenge ----------
function pickDailyChallenge() {
  const challenge = dailyChallenges[Math.floor(Math.random() * dailyChallenges.length)];
  const dailyChallengeElement = document.getElementById("dailyChallenge");
  const challengeResultElement = document.getElementById("challengeResult");
  dailyChallengeElement.innerText = challenge;
  challengeResultElement.innerText = ""; // clear previous completion
}

// Initialize daily challenge on page load
pickDailyChallenge();

// Complete challenge function
function completeChallenge() {
  const challengeResultElement = document.getElementById("challengeResult");
  challengeResultElement.innerText = "‚úÖ Challenge completed! Great job!";
}

</script>
</body>
</html>

